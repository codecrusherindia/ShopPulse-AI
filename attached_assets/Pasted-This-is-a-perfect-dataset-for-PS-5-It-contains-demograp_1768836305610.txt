This is a perfect dataset for **PS 5**. It contains demographic data, spending habits, and satisfaction levelsâ€”everything you need for a winning **"AI-Powered Customer Intelligence Dashboard."**

Since you are missing raw text reviews (the dataset only has `Satisfaction Level` categories), your "GenAI Twist" will be **reverse-engineering the narrative**: using an LLM to explain *why* a cluster behaves the way it does and generating synthetic marketing copy for them.

### **The Project Concept: "ShopPulse AI"**

A Streamlit dashboard that automatically groups your customers into "Personas" and uses GenAI to write strategy guides for marketing teams.

---

### **Phase 1: The Logic (Python & ML)**

We will use **K-Means Clustering** to group these customers based on their behavior, not just their age.

**Key Features to use for Clustering:**

1. **Monetary Value:** `Total Spend`
2. **Engagement:** `Items Purchased` + `Days Since Last Purchase`
3. **Sentiment:** `Average Rating`
4. **Behavior:** `Discount Applied` (TRUE/FALSE)

**The Output:**
The model will find hidden groups, for example:

* *Group A:* High Spend, High Rating, No Discount (Loyal Whales).
* *Group B:* Low Spend, Low Rating, High Discount (Unhappy Bargain Hunters).

---

### **Phase 2: The GenAI "Wow" Factor**

This is how you score points for "Generative AI" without having text reviews:

1. **Automated Persona Description:**
* Feed the *average stats* of a cluster to the LLM.
* **Prompt:** *"I have a customer segment with Average Age 25, Spend $2500, Discount=False, Satisfaction=Unsatisfied. Give this segment a catchy marketing name and explain their psychology."*
* **LLM Output:** *"The 'Young & Restless Big Spenders'. They have high disposable income but high standards. They are likely churn risks because our premium service isn't meeting their expectations."*


2. **Synthetic Review Generation (The NLP Fix):**
* Since you lack review text, add a feature where the AI *predicts* what a user in this group would write in a review.
* **Feature:** "Simulate Customer Voice."



---

### **Phase 3: The Code (Copy-Paste Prototype)**

Here is a complete **Streamlit** app code that takes your dataset and builds the demo.

**Prerequisites:**
`pip install streamlit pandas scikit-learn plotly`

```python
import streamlit as st
import pandas as pd
from sklearn.cluster import KMeans
from sklearn.preprocessing import StandardScaler, LabelEncoder
import plotly.express as px

# 1. Page Config
st.set_page_config(page_title="ShopPulse AI", layout="wide")
st.title("ðŸ›ï¸ ShopPulse: GenAI Customer Segmentation")

# 2. Upload Data (or use the provided snippet)
# For the hackathon, you can hardcode the CSV loading if you want speed
uploaded_file = st.file_uploader("Upload Shopper CSV", type=["csv"])

if uploaded_file is not None:
    df = pd.read_csv(uploaded_file)
    
    # --- PREPROCESSING ---
    # Convert 'Discount Applied' to 0/1
    df['Discount_Binary'] = df['Discount Applied'].astype(int)
    
    # Select features for clustering
    features = ['Total Spend', 'Items Purchased', 'Average Rating', 'Days Since Last Purchase', 'Discount_Binary', 'Age']
    X = df[features].dropna()

    # Scale the data
    scaler = StandardScaler()
    X_scaled = scaler.fit_transform(X)

    # --- MACHINE LEARNING ---
    # Sidebar control
    k = st.sidebar.slider("Number of Segments", 2, 6, 4)
    
    kmeans = KMeans(n_clusters=k, random_state=42)
    clusters = kmeans.fit_predict(X_scaled)
    df['Cluster'] = clusters

    # --- DASHBOARD UI ---
    
    # Visual 1: The Landscape
    st.subheader("Customer Landscape")
    fig = px.scatter(
        df, 
        x="Total Spend", 
        y="Days Since Last Purchase", 
        color="Cluster", 
        size="Items Purchased",
        hover_data=["City", "Satisfaction Level"],
        title="Spending vs. Recency (Colored by AI Segment)"
    )
    st.plotly_chart(fig, use_container_width=True)

    # --- THE GENAI LAYER (Simulation) ---
    st.divider()
    st.subheader("ðŸ¤– AI Persona Analysis")

    # Calculate average stats for each cluster
    cluster_stats = df.groupby('Cluster')[features].mean()
    
    # Create 2 columns for layout
    c1, c2 = st.columns(2)

    for i in range(k):
        with (c1 if i % 2 == 0 else c2):
            stats = cluster_stats.iloc[i]
            spend = stats['Total Spend']
            rating = stats['Average Rating']
            discount = stats['Discount_Binary']
            
            # Simple Logic to simulate LLM response (Replace this with actual API call for extra points)
            persona_name = "Unknown"
            strategy = "Analyze further."
            
            if spend > 2000 and rating > 4.0:
                persona_name = "ðŸŒŸ The VIP Loyalists"
                strategy = "Strategy: Do NOT offer discounts. They buy full price. Send exclusive 'Early Access' invites."
            elif spend > 2000 and rating < 2.5:
                persona_name = "âš ï¸ High-Value Churn Risks"
                strategy = "Strategy: Urgent intervention needed. These are rich customers having a bad experience. Assign human support agent."
            elif spend < 1000 and discount > 0.5:
                persona_name = "ðŸ·ï¸ The Bargain Hunters"
                strategy = "Strategy: Only engage during sales events. They ignore full-price emails."
            else:
                persona_name = "ðŸ›’ Casual Browsers"
                strategy = "Strategy: Increase frequency. Send 'We miss you' coupons."

            st.info(f"**Segment {i}: {persona_name}**")
            st.write(f"Avg Spend: ${spend:.2f} | Avg Rating: {rating:.1f}/5.0")
            st.write(f"_{strategy}_")
            
            # Interactive feature: Simulate a review
            if st.button(f"Generate Synthetic Review for Segment {i}"):
                if rating > 4:
                    st.success(f"\"Absolutely love the premium selection! The delivery to {df[df['Cluster']==i]['City'].iloc[0]} was super fast. Will buy again!\"")
                else:
                    st.error(f"\"I spent over ${spend:.0f} and the quality was terrible. Customer service was unhelpful. Not worth the money.\"")

else:
    st.info("Upload your CSV to begin analysis.")

```

### **How to Pitch This to Judges**

1. **The Hook:** "Merchandisers treat all 'Gold Members' the same. We proved that's wrong. Our AI found a group of Gold Members who are *angry* (High Spend, Low Rating)."
2. **The Tech:** "We used K-Means for math-based segmentation and GenAI to translate those numbers into human-readable marketing strategies."
3. **The Missing Piece:** "Since the dataset lacked text, we built a 'Synthetic Voice' engine that predicts what these users *would* say in a review based on their metadata."

**Would you like me to write the specific LLM Prompt you can put into the code to make the insights sound more professional?**